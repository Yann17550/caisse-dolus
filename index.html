<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Caisse Dolus Expert</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <section id="view-cards" class="view">
            <header><h1>üí≥ Cartes Bancaires</h1></header>
            <main>
                <div class="card-section">
                    <h2>CB Classique</h2>
                    <div class="total-display">Total : <span id="total-cb">0.00</span> ‚Ç¨</div>
                    <div class="input-group"><label>Contact</label><input type="number" id="cb-contact" step="0.01" inputmode="decimal"></div>
                    <div class="input-group"><label>Sans contact</label><input type="number" id="cb-sans-contact" step="0.01" inputmode="decimal"></div>
                </div>

                <div class="card-section">
                    <h2>CB Ticket Restaurant</h2>
                    <div class="total-display">Total : <span id="total-tr">0.00</span> ‚Ç¨</div>
                    <div class="input-group"><label>Contact</label><input type="number" id="tr-contact" step="0.01" inputmode="decimal"></div>
                    <div class="input-group"><label>Sans contact</label><input type="number" id="tr-sans-contact" step="0.01" inputmode="decimal"></div>
                </div>

                <div class="card-section" style="border-left: 5px solid var(--accent);">
                    <h2>MyPos</h2>
                    <div class="total-display">Total : <span id="total-mypos">0.00</span> ‚Ç¨</div>
                    <div class="input-group">
                        <label>Transaction MyPos (‚Ç¨)</label>
                        <input type="number" id="mypos-amount" step="0.01" inputmode="decimal" placeholder="0.00">
                    </div>
                    <button class="btn-primary" style="width:100%; background: var(--accent);" onclick="app.addMyPos()">Ajouter MyPos</button>
                    <div class="recap-list mini" id="mypos-recap"></div>
                </div>

                <div class="card-section highlight-amex">
                    <h2>American Express (AMEX)</h2>
                    <div class="total-display">Total : <span id="total-amex">0.00</span> ‚Ç¨</div>
                    <div class="input-group"><label>Contact</label><input type="number" id="amex-contact" step="0.01" inputmode="decimal"></div>
                    <div class="input-group"><label>Sans contact</label><input type="number" id="amex-sans-contact" step="0.01" inputmode="decimal"></div>
                </div>
            </main>
        </section>

        <section id="view-cash" class="view hidden">
            <header><h1>üí∞ Esp√®ces</h1></header>
            <main>
                <div class="card-section">
                    <div class="total-display highlight">Net (Ventes) : <span id="total-cash-net">0.00</span> ‚Ç¨</div>
                    <div class="input-group">
                        <label>Fond de caisse √† soustraire (‚Ç¨)</label>
                        <input type="number" id="cash-offset" value="134" step="0.01" inputmode="decimal">
                    </div>
                    <p style="font-size: 0.8rem; color: #666; text-align: center;">Total compt√© : <span id="total-cash-brut">0.00</span> ‚Ç¨</p>
                    <div class="cash-grid" id="cash-container"></div>
                </div>
            </main>
        </section>

        <section id="view-ancv" class="view hidden">
            <header><h1>üèñÔ∏è ANCV</h1></header>
            <main>
                <div class="card-section">
                    <div class="dual-total">
                        <div class="total-box"><span>Papier</span><strong id="total-ancv-paper">0.00</strong>‚Ç¨</div>
                        <div class="total-box"><span>Connect</span><strong id="total-ancv-connect">0.00</strong>‚Ç¨</div>
                    </div>
                    <div class="ancv-form">
                        <label>Type</label>
                        <div class="type-selector">
                            <input type="radio" id="type-paper" name="ancv-type" value="paper" checked>
                            <label for="type-paper">Papier</label>
                            <input type="radio" id="type-connect" name="ancv-type" value="connect">
                            <label for="type-connect">Connect</label>
                        </div>
                        <label>Valeur (‚Ç¨)</label>
                        <select id="ancv-val">
                            <option value="10">10 ‚Ç¨</option><option value="20">20 ‚Ç¨</option>
                            <option value="25">25 ‚Ç¨</option><option value="50">50 ‚Ç¨</option><option value="60">60 ‚Ç¨</option>
                        </select>
                        <label>Nombre</label>
                        <input type="number" id="ancv-qty" inputmode="numeric" placeholder="0">
                        <div class="btn-row">
                            <button class="btn-primary" onclick="app.addAncv()">Valider</button>
                            <button class="btn-danger" onclick="app.resetAncvInputs()">RAZ</button>
                        </div>
                    </div>
                </div>
                <div class="recap-list" id="ancv-recap"></div>
            </main>
        </section>

        <section id="view-checks" class="view hidden">
            <header><h1>‚úçÔ∏è Ch√®ques Papier</h1></header>
            <main>
                <div class="card-section">
                    <div class="total-display">Total : <span id="total-checks">0.00</span> ‚Ç¨</div>
                    <div class="input-group">
                        <label>Montant du ch√®que (‚Ç¨)</label>
                        <input type="number" id="check-amount" step="0.01" inputmode="decimal" placeholder="0.00">
                    </div>
                    <button class="btn-primary" style="width:100%" onclick="app.addCheck()">Ajouter Ch√®que</button>
                </div>
                <div class="recap-list" id="checks-recap"></div>
            </main>
        </section>

        <section id="view-pos" class="view hidden">
            <header><h1>üñ•Ô∏è Logiciel POS</h1></header>
            <main>
                <div class="card-section">
                    <h2>Donn√©es du logiciel</h2>
                    <div class="input-group"><label>Total Esp√®ces (Logiciel)</label><input type="number" id="pos-cash" step="0.01" inputmode="decimal"></div>
                    <div class="input-group"><label>Pizzas confectionn√©es</label><input type="number" id="pos-pizzas" inputmode="numeric"></div>
                </div>
                <div class="card-section">
                    <h2>TVA (TTC)</h2>
                    <div class="input-group"><label>TTC 5.5%</label><input type="number" id="tva-5" step="0.01" inputmode="decimal"></div>
                    <div class="input-group"><label>TTC 10%</label><input type="number" id="tva-10" step="0.01" inputmode="decimal"></div>
                    <div class="input-group"><label>TTC 20%</label><input type="number" id="tva-20" step="0.01" inputmode="decimal"></div>
                </div>
            </main>
        </section>

        <div id="modal-recap" class="modal hidden">
            <div class="modal-content">
                <h2>üìä R√©capitulatif Final</h2>
                <div id="recap-body"></div>
                <button class="btn-primary" style="width:100%; margin-top:20px;" onclick="app.closeRecap()">Fermer</button>
            </div>
        </div>

        <nav class="nav-bar">
            <button onclick="app.showView('view-cards')">üí≥ Cartes</button>
            <button onclick="app.showView('view-cash')">üí∞ Esp.</button>
            <button onclick="app.showView('view-ancv')">üèñÔ∏è ANCV</button>
            <button onclick="app.showView('view-checks')">‚úçÔ∏è Ch√©q.</button>
            <button onclick="app.showView('view-pos')">üñ•Ô∏è POS</button>
            <button class="btn-recap-nav" onclick="app.openRecap()">üìã R√âCAP</button>
        </nav>
    </div>
    <script src="app.js"></script>
</body>
</html>
